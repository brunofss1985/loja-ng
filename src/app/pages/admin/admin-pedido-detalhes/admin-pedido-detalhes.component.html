<div class="validade-container">
  <h2>ðŸ“‹ Detalhes do Pedido #{{ order?.id }}</h2>

  <div *ngIf="order">
    <p><strong>Cliente:</strong> {{ order.customer.fullName }} - {{ order.customer.email }}</p>
    <p>
      <strong>Status:</strong>
      <span class="status-tag" [ngClass]="mapaStatus[order.status]">{{ order.status }}</span>
    </p>
    <p><strong>Total:</strong> R$ {{ order.total | number:'1.2-2' }}</p>
    <p><strong>Pagamento:</strong> {{ order.paymentMethod }}</p>
    <p><strong>Entrega:</strong> {{ order.deliveryMethod }} - Estimado: {{ order.estimatedDelivery }}</p>
    <p><strong>CÃ³digo de rastreio:</strong> {{ order.trackingCode || 'NÃ£o informado' }}</p>
    <p><strong>Presente:</strong> {{ order.isGift ? 'Sim' : 'NÃ£o' }}</p>
    <p *ngIf="order.giftMessage"><strong>Mensagem:</strong> {{ order.giftMessage }}</p>

    <h3>Itens do Pedido</h3>
    <ul class="lista-itens">
      <li *ngFor="let item of order.items">
        {{ item.name }} (x{{ item.quantity }}) - R$ {{ item.price | number:'1.2-2' }}
      </li>
    </ul>

    <h3>HistÃ³rico de Status</h3>
    <ul class="lista-itens">
      <li *ngFor="let hist of statusHistory">
        <span class="status-tag" [ngClass]="mapaStatus[hist.status]">{{ hist.status }}</span>
        - {{ hist.changedAt | date:'short' }}
      </li>
    </ul>
  </div>

  <p *ngIf="errorMessage" class="erro">{{ errorMessage }}</p>
</div>
